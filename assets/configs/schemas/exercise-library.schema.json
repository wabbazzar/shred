{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Exercise Library",
  "description": "Database of exercises with categories, equipment, and variations",
  "type": "object",
  "required": ["exercises"],
  "properties": {
    "exercises": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["id", "name", "category", "muscleGroups"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique exercise identifier",
            "pattern": "^[a-z0-9-]+$"
          },
          "name": {
            "type": "string",
            "description": "Exercise display name",
            "minLength": 1
          },
          "aliases": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Alternative names for this exercise"
          },
          "category": {
            "type": "string",
            "enum": ["strength", "cardio", "flexibility", "mobility", "balance", "coordination", "plyometric", "isometric", "compound", "isolation"],
            "description": "Primary exercise category"
          },
          "subcategory": {
            "type": "string",
            "description": "More specific categorization",
            "examples": ["pressing", "pulling", "squatting", "hinging", "carrying", "jumping", "throwing"]
          },
          "muscleGroups": {
            "type": "object",
            "properties": {
              "primary": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Primary muscles worked"
              },
              "secondary": {
                "type": "array",
                "items": {"type": "string"}, 
                "description": "Secondary muscles worked"
              },
              "stabilizers": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Stabilizing muscles engaged"
              }
            }
          },
          "equipment": {
            "type": "object",
            "properties": {
              "required": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Equipment that must be available"
              },
              "optional": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Equipment that can enhance the exercise"
              },
              "alternatives": {
                "type": "object",
                "description": "Equipment substitutions",
                "additionalProperties": {
                  "type": "array",
                  "items": {"type": "string"}
                }
              }
            }
          },
          "execution": {
            "type": "object",
            "properties": {
              "setup": {
                "type": "string",
                "description": "How to set up for the exercise"
              },
              "movement": {
                "type": "string",
                "description": "How to perform the movement"
              },
              "breathingPattern": {
                "type": "string",
                "description": "Recommended breathing pattern"
              },
              "commonMistakes": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Common form errors to avoid"
              },
              "cues": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Coaching cues for proper form"
              }
            }
          },
          "parameters": {
            "type": "object",
            "properties": {
              "trackingType": {
                "type": "string",
                "enum": ["weight-reps", "reps-only", "time-only", "distance-time", "bodyweight-reps", "isometric-time"],
                "description": "How this exercise is typically tracked"
              },
              "defaultSets": {"type": "integer", "minimum": 1},
              "repRanges": {
                "type": "object",
                "properties": {
                  "strength": {"type": "string", "example": "1-5"},
                  "power": {"type": "string", "example": "3-6"},
                  "hypertrophy": {"type": "string", "example": "6-12"},
                  "endurance": {"type": "string", "example": "12+"}
                }
              },
              "restPeriods": {
                "type": "object",
                "properties": {
                  "strength": {"type": "string", "example": "3-5 minutes"},
                  "hypertrophy": {"type": "string", "example": "60-90 seconds"},
                  "endurance": {"type": "string", "example": "30-60 seconds"}
                }
              },
              "tempo": {
                "type": "string",
                "description": "Recommended tempo",
                "example": "3-1-2-0"
              }
            }
          },
          "variations": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {"type": "string"},
                "difficulty": {"type": "string", "enum": ["easier", "same", "harder"]},
                "description": {"type": "string"},
                "equipment": {"type": "array", "items": {"type": "string"}},
                "focus": {"type": "string"}
              }
            }
          },
          "progressions": {
            "type": "object",
            "properties": {
              "easier": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Easier variations for beginners"
              },
              "harder": {
                "type": "array", 
                "items": {"type": "string"},
                "description": "Advanced progressions"
              },
              "lateral": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Same difficulty, different focus"
              }
            }
          },
          "contraindications": {
            "type": "array",
            "items": {"type": "string"},
            "description": "When this exercise should be avoided"
          },
          "difficulty": {
            "type": "string",
            "enum": ["beginner", "intermediate", "advanced", "expert"],
            "description": "Skill level required"
          },
          "unilateral": {
            "type": "boolean",
            "default": false,
            "description": "Whether this exercise is performed one side at a time"
          }
        }
      }
    },
    "muscleGroupDefinitions": {
      "type": "object",
      "description": "Standardized muscle group names",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "fullName": {"type": "string"},
          "abbreviation": {"type": "string"},
          "region": {"type": "string", "enum": ["upper", "lower", "core", "full-body"]}
        }
      }
    },
    "equipmentDefinitions": {
      "type": "object",
      "description": "Standardized equipment names and categories",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "category": {"type": "string", "enum": ["free-weights", "machines", "bodyweight", "cardio", "accessories", "specialty"]},
          "portability": {"type": "string", "enum": ["fixed", "portable", "compact"]},
          "cost": {"type": "string", "enum": ["free", "low", "medium", "high"]},
          "alternatives": {"type": "array", "items": {"type": "string"}}
        }
      }
    }
  }
}